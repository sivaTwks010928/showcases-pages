<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Modernization Analysis: Java to Python Migration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --color-primary: #0d47a1;
            --color-primary-light: #42a5f5;
            --color-primary-dark: #0277bd;
            --color-secondary: #10b981;
            --color-accent: #f59e0b;
            --color-danger: #ef4444;
            --color-warning: #f97316;
            --color-info: #3b82f6;
            --color-mcp: #8b5cf6;
            --color-code-bg: #1e293b;
            --color-code-text: #e2e8f0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: #1e293b;
            line-height: 1.7;
        }

        .font-mono { 
            font-family: 'JetBrains Mono', 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; 
        }

        /* Navigation & Layout */
        .nav-sticky {
            position: sticky;
            top: 0;
            z-index: 50;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid #e2e8f0;
        }

        .section-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid #e2e8f0;
            margin-bottom: 2rem;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .section-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .section-header {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            color: white;
            padding: 1.5rem;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .section-header:hover {
            background: linear-gradient(135deg, var(--color-primary-dark) 0%, var(--color-primary) 100%);
        }

        .section-content {
            padding: 2rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }

        .section-content.expanded {
            max-height: none;
            overflow: visible;
        }

        .expand-icon {
            transition: transform 0.3s ease;
            font-size: 1.5rem;
        }

        .expand-icon.rotated {
            transform: rotate(180deg);
        }

        /* Code Blocks */
        .code-container {
            background: var(--color-code-bg);
            border-radius: 12px;
            overflow: hidden;
            margin: 1rem 0;
            border: 1px solid #334155;
        }

        .code-header {
            background: #334155;
            color: #e2e8f0;
            padding: 0.75rem 1rem;
            font-weight: 600;
            font-size: 0.875rem;
            border-bottom: 1px solid #475569;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .code-content {
            padding: 1.5rem;
            color: var(--color-code-text);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
            overflow-x: auto;
        }

        .code-content pre {
            margin: 0;
            white-space: pre-wrap;
            word-break: break-word;
        }

        /* Syntax Highlighting */
        .token.keyword { color: #c792ea; }
        .token.function { color: #82aaff; }
        .token.string { color: #c3e88d; }
        .token.number { color: #f78c6c; }
        .token.comment { color: #546e7a; }
        .token.operator { color: #89ddff; }
        .token.class-name { color: #ffcb6b; }
        .token.decorator { color: #ff5370; }

        /* Comparison Tables */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .comparison-table th {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: #374151;
            font-weight: 600;
            padding: 1rem;
            text-align: left;
            border-bottom: 2px solid #e5e7eb;
        }

        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid #f3f4f6;
            vertical-align: top;
        }

        .comparison-table tr:hover {
            background: #f8fafc;
        }

        /* Insight Boxes */
        .insight-box {
            margin: 1.5rem 0;
            border-radius: 12px;
            overflow: hidden;
            border-left: 4px solid;
        }

        .insight-mcp {
            background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
            border-left-color: var(--color-mcp);
            color: #581c87;
        }

        .insight-critical {
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border-left-color: var(--color-danger);
            color: #991b1b;
        }

        .insight-success {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-left-color: var(--color-secondary);
            color: #166534;
        }

        .insight-warning {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border-left-color: var(--color-warning);
            color: #92400e;
        }

        .insight-header {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .insight-content {
            padding: 1.5rem;
        }

        /* Toggle Switches */
        .toggle-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .toggle {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--color-primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Chart Containers */
        .chart-wrapper {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin: 1rem 0;
            border: 1px solid #e2e8f0;
        }

        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }

        .chart-container canvas {
            background: white !important;
            border-radius: 8px;
        }

        /* Response Containers */
        .response-container {
            background: #f8fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            margin: 1rem 0;
            overflow: hidden;
        }

        .response-header {
            background: #374151;
            color: white;
            padding: 0.75rem 1rem;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .response-content {
            padding: 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
            color: #374151;
            white-space: pre-wrap;
            overflow-x: auto;
        }

        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .section-content {
                padding: 1rem;
            }
            
            .chart-container {
                height: 300px;
            }
            
            .comparison-table {
                font-size: 0.875rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 0.75rem;
            }
        }

        /* Print Styles */
        @media print {
            .nav-sticky,
            .toggle-container {
                display: none;
            }
            
            .section-content {
                max-height: none !important;
                overflow: visible !important;
            }
            
            .section-card {
                break-inside: avoid;
                margin-bottom: 1rem;
            }
        }

        /* Toggle Button Styles */
        .toggle-btn {
            background: var(--color-primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 0.25rem;
            font-size: 0.875rem;
        }

        .toggle-btn:hover {
            background: var(--color-primary-dark);
            transform: translateY(-1px);
        }

        .toggle-btn.active {
            background: var(--color-mcp);
            box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
        }

        /* View Mode Styles */
        .view-mode {
            display: none;
        }

        .view-mode.active {
            display: block;
        }
    </style>
</head>
<body class="antialiased">
    <!-- Navigation -->
    <nav class="nav-sticky">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <h1 class="text-xl font-bold text-gray-800">Modernization Analysis Dashboard</h1>
                <div class="hidden md:flex space-x-6">
                    <a href="#executive-summary" class="text-gray-600 hover:text-blue-600 transition-colors">Executive Summary</a>
                    <a href="#technical-deep-dive" class="text-gray-600 hover:text-blue-600 transition-colors">Technical Analysis</a>
                    <a href="#business-impact" class="text-gray-600 hover:text-blue-600 transition-colors">Business Impact</a>
                    <a href="#mcp-power" class="text-gray-600 hover:text-blue-600 transition-colors">MCP Power</a>
                </div>
                <button id="expand-all" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                    Expand All
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-5xl md:text-6xl font-extrabold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6">
                Comprehensive Modernization Analysis
            </h1>
            <h2 class="text-2xl md:text-3xl font-bold text-gray-700 mb-4">
                Java to Python Migration: MCP Knowledge Graph vs Direct Code Reading
            </h2>
            <p class="text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed">
                A detailed comparative analysis demonstrating how different modernization approaches lead to fundamentally different technical implementations and business outcomes. This study examines three implementations of the JOI Energy smart meter system to reveal the critical advantages of MCP (Model Context Protocol) knowledge-driven modernization.
            </p>
        </header>

        <!-- Quick Stats -->
        <div class="grid md:grid-cols-4 gap-6 mb-12">
            <div class="bg-white rounded-lg p-6 shadow-lg border border-blue-100">
                <div class="text-3xl font-bold text-blue-600 mb-2">30x</div>
                <div class="text-sm text-gray-600">Cost Calculation Difference</div>
            </div>
            <div class="bg-white rounded-lg p-6 shadow-lg border border-green-100">
                <div class="text-3xl font-bold text-green-600 mb-2">90%</div>
                <div class="text-sm text-gray-600">Improved Validation Quality</div>
            </div>
            <div class="bg-white rounded-lg p-6 shadow-lg border border-purple-100">
                <div class="text-3xl font-bold text-purple-600 mb-2">3</div>
                <div class="text-sm text-gray-600">Implementation Approaches</div>
            </div>
            <div class="bg-white rounded-lg p-6 shadow-lg border border-orange-100">
                <div class="text-3xl font-bold text-orange-600 mb-2">∞</div>
                <div class="text-sm text-gray-600">MCP Knowledge Depth</div>
            </div>
        </div>

        <main class="space-y-16">
            
            <!-- Executive Summary -->
            <section id="executive-summary" class="section-card">
                <div class="section-header" onclick="toggleSection('executive-summary')">
                    <h2 class="text-3xl font-bold">Executive Summary</h2>
                    <div class="expand-icon">⬇</div>
                </div>
                <div class="section-content" id="executive-summary-content">
                    <div class="prose max-w-none">
                        <p class="text-xl text-gray-700 mb-8 leading-relaxed">
                            This comprehensive analysis compares three implementations of the JOI Energy smart meter system to demonstrate the fundamental differences between modernization approaches. The study reveals how traditional direct code reading preserves original algorithms and flaws, while MCP (Model Context Protocol) knowledge-driven modernization leads to improved business logic and modern architecture patterns.
                        </p>
                        
                        <!-- Three Implementation Overview -->
                        <div class="grid md:grid-cols-3 gap-8 mb-12">
                            <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border border-blue-200">
                                <div class="flex items-center mb-4">
                                    <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-xl mr-4">1</div>
                                    <h3 class="font-bold text-xl text-blue-800">Original Java (Spring Boot)</h3>
                                </div>
                                <p class="text-blue-700 mb-4">The baseline legacy system implementation with Spring Boot framework</p>
                                <ul class="text-sm text-blue-600 space-y-2">
                                    <li>• Complex cost calculation algorithm</li>
                                    <li>• Manual validation approach</li>
                                    <li>• In-memory HashMap storage</li>
                                    <li>• Spring Boot conventional structure</li>
                                </ul>
                            </div>
                            
                            <div class="bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border border-red-200">
                                <div class="flex items-center mb-4">
                                    <div class="w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center text-white font-bold text-xl mr-4">2</div>
                                    <h3 class="font-bold text-xl text-red-800">Python Without MCP (Flask)</h3>
                                </div>
                                <p class="text-red-700 mb-4">Direct code translation preserving original algorithms and potential flaws</p>
                                <ul class="text-sm text-red-600 space-y-2">
                                    <li>• Identical cost calculation logic</li>
                                    <li>• Preserved validation approach</li>
                                    <li>• Python dict storage (direct translation)</li>
                                    <li>• Syntactic language conversion focus</li>
                                </ul>
                            </div>
                            
                            <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border border-green-200">
                                <div class="flex items-center mb-4">
                                    <div class="w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center text-white font-bold text-xl mr-4">3</div>
                                    <h3 class="font-bold text-xl text-green-800">Python With MCP (FastAPI)</h3>
                                </div>
                                <p class="text-green-700 mb-4">Knowledge-driven modernization understanding and improving business logic</p>
                                <ul class="text-sm text-green-600 space-y-2">
                                    <li>• Reimagined cost calculation approach</li>
                                    <li>• Declarative Pydantic validation</li>
                                    <li>• Abstract storage interface</li>
                                    <li>• Semantic understanding & enhancement</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Key Findings -->
                        <div class="bg-gradient-to-r from-purple-50 to-blue-50 p-8 rounded-xl border border-purple-200 mb-8">
                            <h3 class="text-2xl font-bold text-purple-800 mb-6 text-center">Key Research Findings</h3>
                            <div class="grid md:grid-cols-2 gap-8">
                                <div>
                                    <h4 class="font-bold text-lg text-purple-700 mb-3">🔍 Why does MCP make such a significant difference?</h4>
                                    <p class="text-gray-700 mb-4">
                                        Traditional direct code reading treats modernization as a syntactic translation exercise, 
                                        focusing on converting Java syntax to Python without questioning the business logic. 
                                        This approach assumes the original implementation is correct and preserves all existing patterns, 
                                        including potential flaws.
                                    </p>
                                    <p class="text-gray-700">
                                        MCP knowledge-driven modernization builds a semantic understanding of the domain and business intent, 
                                        allowing it to identify and correct potential issues while implementing modern best practices.
                                    </p>
                                </div>
                                <div>
                                    <h4 class="font-bold text-lg text-purple-700 mb-3">🎯 What makes this analysis particularly relevant?</h4>
                                    <p class="text-gray-700 mb-4">
                                        For large codebases, direct code access modernization becomes exponentially more challenging due to:
                                    </p>
                                    <ul class="text-sm text-gray-600 space-y-1 ml-4">
                                        <li>• Complex interdependencies across modules</li>
                                        <li>• Scattered business logic requiring manual analysis</li>
                                        <li>• Risk of missing critical domain context</li>
                                        <li>• Time-intensive code comprehension requirements</li>
                                    </ul>
                                    <p class="text-gray-700 mt-4">
                                        MCP's knowledge graph approach scales more effectively by understanding relationships and purposes across the entire system.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Implementation Comparison Matrix -->
                        <div class="overflow-x-auto mb-8">
                            <table class="comparison-table w-full">
                                <thead>
                                    <tr>
                                        <th class="w-1/4">Aspect</th>
                                        <th class="w-1/4">Java (Original)</th>
                                        <th class="w-1/4">Python Without MCP</th>
                                        <th class="w-1/4">Python With MCP</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="font-semibold">Framework Choice</td>
                                        <td>Spring Boot (Enterprise Java)</td>
                                        <td>Flask (Simple, direct translation)</td>
                                        <td>FastAPI (Modern, type-safe)</td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Validation Approach</td>
                                        <td>Spring annotations + manual</td>
                                        <td>Manual validation replication</td>
                                        <td>Pydantic declarative models</td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Cost Calculation</td>
                                        <td>Complex: (avg_reading / time) * rate</td>
                                        <td>Identical to Java (preserved flaws)</td>
                                        <td>Simplified: sum(reading * rate)</td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">API Response Design</td>
                                        <td>Basic structures, minimal context</td>
                                        <td>Preserved original structures</td>
                                        <td>Enhanced with context and clarity</td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Error Handling</td>
                                        <td>Spring Exception handlers</td>
                                        <td>Manual try-catch blocks</td>
                                        <td>Rich, structured error responses</td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Business Enhancement</td>
                                        <td>Static pricing only</td>
                                        <td>No enhancements added</td>
                                        <td>Day-of-week dynamic pricing</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- Critical Differences Highlight -->
                        <div class="insight-box insight-critical">
                            <div class="insight-content">
                                <div class="insight-header">
                                    ⚠️ Critical Business Impact: Cost Calculation Algorithm Differences
                                </div>
                                <p class="mb-4">
                                    The most significant finding is the fundamental difference in cost calculation approaches, leading to drastically different billing results:
                                </p>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div>
                                        <h5 class="font-semibold mb-2">Java/Claude Approach (Without MCP):</h5>
                                        <ul class="text-sm space-y-1">
                                            <li>• Cost values: 360.0, 72.0, 36.0</li>
                                            <li>• Higher rates result in unexpectedly higher costs</li>
                                            <li>• Time period affects calculation significantly</li>
                                            <li>• Counterintuitive for energy billing domain</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h5 class="font-semibold mb-2">Cursor/MCP Approach:</h5>
                                        <ul class="text-sm space-y-1">
                                            <li>• Cost values: 1.2, 2.4, 12.0</li>
                                            <li>• Direct relationship: higher rates = higher costs</li>
                                            <li>• Time period independent calculation</li>
                                            <li>• Aligns with energy billing expectations</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- MCP Advantages -->
                        <div class="insight-box insight-mcp">
                            <div class="insight-content">
                                <div class="insight-header">
                                    🔮 MCP Knowledge Graph Advantages for Large Codebases
                                </div>
                                <p class="mb-4">
                                    While direct code reading works for small, well-contained applications, MCP's advantages become exponentially more valuable for large, complex systems:
                                </p>
                                <div class="grid md:grid-cols-3 gap-4">
                                    <div class="bg-white/50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-purple-800 mb-2">Semantic Understanding</h5>
                                        <p class="text-sm">Builds comprehensive knowledge graphs of business relationships and domain concepts</p>
                                    </div>
                                    <div class="bg-white/50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-purple-800 mb-2">Cross-Module Analysis</h5>
                                        <p class="text-sm">Identifies patterns and dependencies across entire codebases without manual inspection</p>
                                    </div>
                                    <div class="bg-white/50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-purple-800 mb-2">Domain Expertise</h5>
                                        <p class="text-sm">Applies industry best practices and identifies potential business logic improvements</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>



            <!-- Technical Deep Dive Section -->
            <section id="technical-deep-dive" class="section-card">
                <div class="section-header" onclick="toggleSection('technical-deep-dive')">
                    <h2 class="text-3xl font-bold">Technical Deep Dive</h2>
                    <div class="expand-icon">⬇</div>
                </div>
                <div class="section-content" id="technical-deep-dive-content">
                    
                    <!-- Data Structure and Module Comparison -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Data Structure & Module Architecture Comparison</h3>
                        
                        <!-- View Mode Toggle Buttons -->
                        <div class="toggle-container mb-6">
                            <span class="font-medium text-gray-700 mr-4">View Mode:</span>
                            <button class="toggle-btn active" onclick="toggleViewMode('side-by-side')">Side-by-side Code Comparison</button>
                            <button class="toggle-btn" onclick="toggleViewMode('algorithm-walkthrough')">Algorithm Walkthrough Mode</button>
                            <button class="toggle-btn" onclick="toggleViewMode('architecture-view')">Architecture View</button>
                        </div>

                        <!-- Side-by-side View -->
                        <div id="side-by-side" class="view-mode active">
                            <!-- Core Data Structures -->
                            <div class="mb-8">
                                <h4 class="text-xl font-semibold text-gray-800 mb-4">Core Data Structures Analysis</h4>
                                
                                <div class="grid md:grid-cols-3 gap-6" id="data-structure-comparison">
                                <!-- Java Implementation -->
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>Java (Original) - ElectricityReading</span>
                                        <span class="text-blue-400">Spring Boot</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-java">public class ElectricityReading {
    private Instant time;
    private BigDecimal reading;
    
    public ElectricityReading() {}
    
    public ElectricityReading(Instant time, 
                             BigDecimal reading) {
        this.time = time;
        this.reading = reading;
    }
    
    // Standard getters and setters
    public Instant getTime() { 
        return time; 
    }
    
    public void setTime(Instant time) { 
        this.time = time; 
    }
    
    public BigDecimal getReading() { 
        return reading; 
    }
    
    public void setReading(BigDecimal reading) { 
        this.reading = reading; 
    }
}</code></pre>
                                    </div>
                                </div>

                                <!-- Python Without MCP -->
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>Python Without MCP - ElectricityReading</span>
                                        <span class="text-red-400">Flask</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-python">class ElectricityReading:
    def __init__(self, time=None, reading=None):
        self.time = time
        self.reading = reading
    
    @classmethod
    def from_dict(cls, data):
        return cls(
            time=data.get('time'),
            reading=Decimal(str(data.get('reading', 0)))
        )
    
    def to_dict(self):
        return {
            'time': self.time.isoformat() if self.time else None,
            'reading': float(self.reading) if self.reading else 0
        }
        
    def __repr__(self):
        return f"ElectricityReading(time={self.time}, reading={self.reading})"</code></pre>
                                    </div>
                                </div>

                                <!-- Python With MCP -->
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>Python With MCP - ElectricityReading</span>
                                        <span class="text-green-400">FastAPI + Pydantic</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-python">class ElectricityReading(BaseModel):
    """
    Represents a single electricity consumption reading
    from a smart meter at a specific point in time.
    """
    time: datetime = Field(
        description="Timestamp when the electricity reading was recorded",
        example="2020-11-29T08:00:00+00:00"
    )
    reading: Decimal = Field(
        description="Electricity consumption value in kWh",
        decimal_places=2,
        ge=0,
        example=Decimal("0.50")
    )
    
    class Config:
        json_encoders = {
            datetime: lambda v: v.isoformat(),
            Decimal: lambda v: float(v)
        }
        schema_extra = {
            "example": {
                "time": "2020-11-29T08:00:00+00:00",
                "reading": 0.50
            }
        }</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Analysis -->
                            <div class="insight-box insight-mcp mt-6">
                                <div class="insight-content">
                                    <div class="insight-header">
                                        🔍 Data Structure Analysis: MCP's Type Safety Revolution
                                    </div>
                                    <div class="grid md:grid-cols-3 gap-4">
                                        <div>
                                            <h5 class="font-semibold mb-2">Java (Original)</h5>
                                            <ul class="text-sm space-y-1">
                                                <li>• Manual getters/setters</li>
                                                <li>• BigDecimal for precision</li>
                                                <li>• No built-in validation</li>
                                                <li>• Verbose boilerplate code</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h5 class="font-semibold mb-2">Python Without MCP</h5>
                                            <ul class="text-sm space-y-1">
                                                <li>• Simple Python classes</li>
                                                <li>• Manual type conversion</li>
                                                <li>• No automatic validation</li>
                                                <li>• Duck typing (can accept invalid data)</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h5 class="font-semibold mb-2">Python With MCP</h5>
                                            <ul class="text-sm space-y-1">
                                                <li>• Self-documenting models</li>
                                                <li>• Automatic validation</li>
                                                <li>• Type hints + runtime checks</li>
                                                <li>• Built-in JSON serialization</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Module Architecture Comparison -->
                        <div class="mb-8">
                            <h4 class="text-xl font-semibold text-gray-800 mb-4">Module Architecture Comparison</h4>
                            
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Layer/Component</th>
                                        <th>Java (Spring Boot)</th>
                                        <th>Python Without MCP (Flask)</th>
                                        <th>Python With MCP (FastAPI)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="font-semibold">Controller Layer</td>
                                        <td>
                                            <div class="text-sm">
                                                <code>@RestController</code><br>
                                                <code>@RequestMapping</code><br>
                                                Manual validation in controller methods
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                <code>@app.route</code><br>
                                                Flask decorators<br>
                                                Manual request parsing & validation
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                <code>@router.post</code><br>
                                                <code>APIRouter</code><br>
                                                Automatic validation via Pydantic
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Service Layer</td>
                                        <td>
                                            <div class="text-sm">
                                                <code>@Service</code> annotation<br>
                                                Business logic in service classes<br>
                                                Constructor injection
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                Plain Python classes<br>
                                                Direct instantiation<br>
                                                Global state management
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                <code>Depends()</code> injection<br>
                                                Abstract interfaces<br>
                                                Dependency inversion principle
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Data Access</td>
                                        <td>
                                            <div class="text-sm">
                                                <code>Map&lt;String, List&gt;</code><br>
                                                In-memory HashMap storage<br>
                                                Thread-safe collections
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                <code>Dict[str, List]</code><br>
                                                Python dictionary (direct translation)<br>
                                                No thread safety considerations
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                Abstract <code>StorageInterface</code><br>
                                                Pluggable storage backends<br>
                                                Future database integration ready
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Error Handling</td>
                                        <td>
                                            <div class="text-sm">
                                                <code>@ExceptionHandler</code><br>
                                                Centralized exception handling<br>
                                                Standard HTTP status codes
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                Manual try-catch blocks<br>
                                                Basic error responses<br>
                                                Minimal error details
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                <code>HTTPException</code><br>
                                                Rich validation errors<br>
                                                Detailed field-level feedback
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Configuration</td>
                                        <td>
                                            <div class="text-sm">
                                                <code>@Configuration</code><br>
                                                <code>application.properties</code><br>
                                                Environment profiles
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                Global variables<br>
                                                Hard-coded constants<br>
                                                No environment management
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-sm">
                                                <code>Pydantic Settings</code><br>
                                                Environment variable parsing<br>
                                                Type-safe configuration
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        </div>
                    </div>

                    <!-- Algorithm Walkthrough View -->
                    <div id="algorithm-walkthrough" class="view-mode">
                        <div class="mb-8">
                            <h4 class="text-xl font-semibold text-gray-800 mb-4">Critical Algorithm Flaws & MCP Corrections</h4>
                            
                            <!-- Calculation Logic Flaw Analysis -->
                            <div class="bg-red-50 p-6 rounded-xl border border-red-200 mb-6">
                                <h5 class="font-bold text-red-800 mb-4">❌ Fundamental Calculation Logic Flaw in Original Implementation</h5>
                                
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="bg-white p-4 rounded-lg border border-red-300">
                                        <h6 class="font-semibold text-red-800 mb-3">Original Java/Flask Algorithm (FLAWED)</h6>
                                        <div class="code-container">
                                            <div class="code-content">
                                                <pre><code class="language-java">// WRONG: Divides total consumption by time period
BigDecimal averageReading = totalReading.divide(
    BigDecimal.valueOf(readings.size()), 
    2, RoundingMode.HALF_UP
);
BigDecimal timeElapsed = BigDecimal.valueOf(
    duration.toHours()
);
BigDecimal cost = averageReading
    .divide(timeElapsed, 2, RoundingMode.HALF_UP)
    .multiply(ratePerHour);</code></pre>
                                            </div>
                                        </div>
                                        <div class="mt-3 p-3 bg-red-100 rounded-lg">
                                            <p class="text-sm text-red-700"><strong>Why This is Wrong:</strong></p>
                                            <ul class="text-xs text-red-600 mt-2 space-y-1">
                                                <li>• Treats readings as instantaneous consumption rates</li>
                                                <li>• Applies time-based division incorrectly</li>
                                                <li>• Results in artificially inflated costs (360.0 vs 1.2)</li>
                                                <li>• Violates energy consumption physics principles</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white p-4 rounded-lg border border-green-300">
                                        <h6 class="font-semibold text-green-800 mb-3">MCP Corrected Algorithm (CORRECT)</h6>
                                        <div class="code-container">
                                            <div class="code-content">
                                                <pre><code class="language-python"># CORRECT: Direct energy consumption calculation
def calculate_cost(readings, unit_rate):
    total_cost = Decimal('0.00')
    for reading in readings:
        # Each reading represents actual energy consumed
        cost = reading.reading * unit_rate
        total_cost += cost
    return total_cost</code></pre>
                                            </div>
                                        </div>
                                        <div class="mt-3 p-3 bg-green-100 rounded-lg">
                                            <p class="text-sm text-green-700"><strong>Why This is Correct:</strong></p>
                                            <ul class="text-xs text-green-600 mt-2 space-y-1">
                                                <li>• Treats readings as actual energy consumption (kWh)</li>
                                                <li>• Multiplies energy directly by rate per unit</li>
                                                <li>• Aligns with energy billing industry standards</li>
                                                <li>• Produces accurate, expected costs</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-6 p-4 bg-gray-900 text-white rounded-lg">
                                    <h6 class="font-semibold text-yellow-400 mb-3">📊 MCP's Domain Knowledge Recognition:</h6>
                                    <p class="text-sm text-gray-300 mb-2">
                                        MCP identified that the original algorithm treated electricity readings incorrectly. In energy management:
                                    </p>
                                    <ul class="text-xs text-gray-400 space-y-1 ml-4">
                                        <li>• Smart meter readings are cumulative energy consumption (kWh)</li>
                                        <li>• Cost = Energy Consumed × Rate per kWh (not time-adjusted)</li>
                                        <li>• Time periods are already factored into the readings themselves</li>
                                        <li>• The original formula would result in nonsensical billing for customers</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Timezone Handling Analysis -->
                            <div class="bg-blue-50 p-6 rounded-xl border border-blue-200 mb-6">
                                <h5 class="font-bold text-blue-800 mb-4">🌍 Timezone Handling: Critical Differences</h5>
                                
                                <div class="grid md:grid-cols-3 gap-4">
                                    <div class="bg-white p-4 rounded-lg border border-blue-300">
                                        <h6 class="font-semibold text-blue-800 mb-3">Java Original</h6>
                                        <div class="code-container">
                                            <div class="code-content">
                                                <pre><code class="language-java">// Uses Instant (UTC-based)
private Instant time;

// No timezone conversion
// Assumes UTC everywhere</code></pre>
                                            </div>
                                        </div>
                                        <div class="mt-2 p-2 bg-orange-100 rounded">
                                            <p class="text-xs text-orange-700"><strong>Issue:</strong> No timezone awareness for global deployments</p>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white p-4 rounded-lg border border-red-300">
                                        <h6 class="font-semibold text-red-800 mb-3">Python Without MCP</h6>
                                        <div class="code-container">
                                            <div class="code-content">
                                                <pre><code class="language-python"># Basic datetime handling
from datetime import datetime

# No timezone validation
# Assumes local time</code></pre>
                                            </div>
                                        </div>
                                        <div class="mt-2 p-2 bg-red-100 rounded">
                                            <p class="text-xs text-red-700"><strong>Problem:</strong> Timezone-naive datetime causing billing errors across regions</p>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white p-4 rounded-lg border border-green-300">
                                        <h6 class="font-semibold text-green-800 mb-3">Python With MCP</h6>
                                        <div class="code-container">
                                            <div class="code-content">
                                                <pre><code class="language-python"># Timezone-aware with validation
time: datetime = Field(
    description="ISO 8601 timestamp with timezone",
    example="2020-11-29T08:00:00+00:00"
)

# Automatic timezone parsing
# UTC normalization built-in</code></pre>
                                            </div>
                                        </div>
                                        <div class="mt-2 p-2 bg-green-100 rounded">
                                            <p class="text-xs text-green-700"><strong>Correct:</strong> Explicit timezone handling prevents billing discrepancies</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-6 p-4 bg-gradient-to-r from-blue-900 to-purple-900 text-white rounded-lg">
                                    <h6 class="font-semibold text-blue-300 mb-3">🎯 Why Timezone Handling Matters for Energy Systems:</h6>
                                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                                        <div>
                                            <h7 class="font-semibold text-blue-200">Business Impact</h7>
                                            <ul class="text-xs text-gray-300 mt-2 space-y-1">
                                                <li>• Peak/off-peak pricing depends on local time</li>
                                                <li>• Daylight saving time transitions affect billing</li>
                                                <li>• Regulatory compliance requires accurate timestamps</li>
                                                <li>• Cross-region data aggregation needs UTC</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h7 class="font-semibold text-blue-200">MCP's Recognition</h7>
                                            <ul class="text-xs text-gray-300 mt-2 space-y-1">
                                                <li>• Identified energy domain timezone requirements</li>
                                                <li>• Applied ISO 8601 standards automatically</li>
                                                <li>• Built-in validation prevents naive timestamps</li>
                                                <li>• Future-proof for global deployment</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Step-by-Step Calculation -->
                            <div class="bg-yellow-50 p-6 rounded-xl border border-yellow-200">
                                <h5 class="font-bold text-yellow-800 mb-3">📋 Step-by-Step Calculation Comparison</h5>
                                <div class="space-y-4">
                                    <div class="bg-white p-4 rounded-lg border border-yellow-300">
                                        <h6 class="font-semibold text-gray-800">Input Data (Same for all)</h6>
                                        <p class="text-sm text-gray-600 font-mono">Readings: [0.5 kWh, 0.7 kWh] | Rate: 1.0 per kWh</p>
                                    </div>
                                    <div class="bg-white p-4 rounded-lg border border-red-300">
                                        <h6 class="font-semibold text-red-800">Original Algorithm (WRONG)</h6>
                                        <p class="text-sm text-gray-600 font-mono">avg = (0.5 + 0.7) / 2 = 0.6 → 0.6 / 0.0033 hours × 1.0 = 360.0</p>
                                    </div>
                                    <div class="bg-white p-4 rounded-lg border border-green-300">
                                        <h6 class="font-semibold text-green-800">MCP Algorithm (CORRECT)</h6>
                                        <p class="text-sm text-gray-600 font-mono">(0.5 × 1.0) + (0.7 × 1.0) = 0.5 + 0.7 = 1.2</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Architecture View -->
                    <div id="architecture-view" class="view-mode">
                        <div class="mb-8">
                            <h4 class="text-xl font-semibold text-gray-800 mb-4">Architecture Pattern Analysis</h4>
                            <div class="grid md:grid-cols-3 gap-6">
                                <div class="bg-blue-50 p-6 rounded-xl border border-blue-200">
                                    <h5 class="font-bold text-blue-800 mb-3">Java Spring Boot</h5>
                                    <ul class="text-sm space-y-2 text-blue-700">
                                        <li>• Annotation-driven configuration</li>
                                        <li>• Dependency injection container</li>
                                        <li>• Layered architecture pattern</li>
                                        <li>• Enterprise Java conventions</li>
                                    </ul>
                                </div>
                                <div class="bg-red-50 p-6 rounded-xl border border-red-200">
                                    <h5 class="font-bold text-red-800 mb-3">Python Without MCP</h5>
                                    <ul class="text-sm space-y-2 text-red-700">
                                        <li>• Procedural approach</li>
                                        <li>• Manual dependency management</li>
                                        <li>• Direct translation patterns</li>
                                        <li>• Minimal abstraction layers</li>
                                    </ul>
                                </div>
                                <div class="bg-green-50 p-6 rounded-xl border border-green-200">
                                    <h5 class="font-bold text-green-800 mb-3">Python With MCP</h5>
                                    <ul class="text-sm space-y-2 text-green-700">
                                        <li>• Modern async/await patterns</li>
                                        <li>• Dependency injection via FastAPI</li>
                                        <li>• Type-safe interfaces</li>
                                        <li>• Domain-driven design principles</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed API Endpoint Analysis -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Detailed API Endpoint Comparison</h3>
                        
                        <!-- POST /readings/store Endpoint -->
                        <div class="mb-10">
                            <div class="bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-xl border border-blue-200 mb-6">
                                <h4 class="text-xl font-bold text-blue-800 mb-4">1. POST /readings/store Endpoint Analysis</h4>
                                <p class="text-blue-700 mb-4">
                                    This endpoint stores new smart meter electricity readings. The implementations reveal fundamental differences 
                                    in validation philosophy, error handling quality, and business rule enforcement.
                                </p>
                            </div>

                            <!-- Test Input -->
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-800 mb-3">Common Test Input</h5>
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>JSON Request Payload</span>
                                        <span class="text-yellow-400">Application/JSON</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-json">{
  "smartMeterId": "smart-meter-fresh-test-181434",
  "electricityReadings": [
    {"time": 1606636800, "reading": 0.5000},
    {"time": 1606636860, "reading": 0.7000}
  ]
}</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Validation Results with Valid Input -->
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-800 mb-3">Validation Results with Valid Input</h5>
                                <div class="grid md:grid-cols-3 gap-4">
                                    <div class="response-container">
                                        <div class="response-header">Java Response (Spring Boot)</div>
                                        <div class="response-content">Status: 200 OK
Content-Type: application/json
Body: (empty)</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python Without MCP (Flask)</div>
                                        <div class="response-content">Status: 200 OK
Content-Type: application/json
Body: (empty)</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python With MCP (FastAPI)</div>
                                        <div class="response-content">Status: 200 OK
Content-Type: application/json
Body: (empty)</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Invalid Input Test -->
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-800 mb-3">Validation with More Than 2 Decimal Places</h5>
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>Invalid Input (More than 2 decimal places)</span>
                                        <span class="text-red-400">Validation Test</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-json">{
  "smartMeterId": "smart-meter-fresh",
  "electricityReadings": [
    {"time": 1606636800, "reading": 0.5001},
    {"time": 1606636860, "reading": 0.7001}
  ]
}</code></pre>
                                    </div>
                                </div>

                                <!-- Error Responses -->
                                <div class="grid md:grid-cols-3 gap-4 mt-4">
                                    <div class="response-container">
                                        <div class="response-header">Java Response</div>
                                        <div class="response-content">Status: 200 OK
(Accepts any decimal precision)
No validation error</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python Without MCP</div>
                                        <div class="response-content">Status: 200 OK
(Accepts any decimal precision)
No validation error</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python With MCP</div>
                                        <div class="response-content">Status: 422 Unprocessable Entity
{
  "detail": [
    {
      "type": "decimal_max_places",
      "loc": ["body", "electricityReadings", 0, "reading"],
      "msg": "Decimal input should have no more than 2 decimal places",
      "input": 0.5001,
      "ctx": {"decimal_places": 2}
    },
    {
      "type": "decimal_max_places", 
      "loc": ["body", "electricityReadings", 1, "reading"],
      "msg": "Decimal input should have no more than 2 decimal places",
      "input": 0.7001,
      "ctx": {"decimal_places": 2}
    }
  ]
}</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Validation Analysis -->
                            <div class="insight-box insight-critical">
                                <div class="insight-content">
                                    <div class="insight-header">
                                        ⚡ Validation Philosophy Differences: Why MCP's Strict Approach Matters
                                    </div>
                                    <div class="grid md:grid-cols-3 gap-4">
                                        <div class="bg-white/50 p-4 rounded-lg">
                                            <h6 class="font-semibold text-red-800 mb-2">Java/Python Without MCP</h6>
                                            <ul class="text-sm space-y-1">
                                                <li>• Lenient validation allowing any decimal precision</li>
                                                <li>• Potential data inconsistency</li>
                                                <li>• Financial calculation risks</li>
                                                <li>• Silent acceptance of invalid data</li>
                                            </ul>
                                        </div>
                                        <div class="bg-white/50 p-4 rounded-lg">
                                            <h6 class="font-semibold text-red-800 mb-2">Python With MCP</h6>
                                            <ul class="text-sm space-y-1">
                                                <li>• Strict validation enforcing business rules</li>
                                                <li>• 2 decimal places for financial precision</li>
                                                <li>• Rich, detailed error responses</li>
                                                <li>• Field-level validation feedback</li>
                                            </ul>
                                        </div>
                                        <div class="bg-white/50 p-4 rounded-lg">
                                            <h6 class="font-semibold text-red-800 mb-2">Business Impact</h6>
                                            <ul class="text-sm space-y-1">
                                                <li>• Financial data integrity</li>
                                                <li>• Improved API consumer experience</li>
                                                <li>• Reduced debugging time</li>
                                                <li>• Prevention of downstream errors</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- GET /readings/read/{smartMeterId} Endpoint -->
                        <div class="mb-10">
                            <div class="bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-xl border border-green-200 mb-6">
                                <h4 class="text-xl font-bold text-green-800 mb-4">2. GET /readings/read/{smartMeterId} Endpoint Analysis</h4>
                                <p class="text-green-700 mb-4">
                                    This endpoint retrieves stored electricity readings for a specific smart meter. The comparison reveals significant differences in response structure, timestamp handling, and API design philosophy.
                                </p>
                            </div>

                            <!-- Test Input -->
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-800 mb-3">Common Request</h5>
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>HTTP GET Request</span>
                                        <span class="text-green-400">Retrieve Readings</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-http">GET /readings/read/smart-meter-fresh-test-181434 HTTP/1.1
Host: localhost:8080
Accept: application/json</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Response Comparison -->
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-800 mb-3">Response Structure Comparison</h5>
                                <div class="grid md:grid-cols-3 gap-4">
                                    <div class="response-container">
                                        <div class="response-header">Java Response (Spring Boot)</div>
                                        <div class="response-content">[
  {
    "time": "2020-11-29T08:00:00Z",
    "reading": 0.5
  },
  {
    "time": "2020-11-29T08:01:00Z", 
    "reading": 0.7
  }
]</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python Without MCP (Flask)</div>
                                        <div class="response-content">[
  {
    "reading": 0.5,
    "time": "2020-11-29T13:30:00Z"
  },
  {
    "reading": 0.7,
    "time": "2020-11-29T13:31:00Z"
  }
]</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python With MCP (FastAPI)</div>
                                        <div class="response-content">{
  "smartMeterId": "smart-meter-fresh-test-181434",
  "electricityReadings": [
    {
      "time": "2020-11-29T08:00:00+00:00",
      "reading": 0.5
    },
    {
      "time": "2020-11-29T08:01:00+00:00",
      "reading": 0.7
    }
  ]
}</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Analysis -->
                            <div class="insight-box insight-success">
                                <div class="insight-content">
                                    <div class="insight-header">
                                        📊 Response Structure Evolution: Context-Rich vs Minimal APIs
                                    </div>
                                    <div class="grid md:grid-cols-3 gap-4">
                                        <div class="bg-white/50 p-4 rounded-lg">
                                            <h6 class="font-semibold text-green-800 mb-2">Java (Original)</h6>
                                            <ul class="text-sm space-y-1">
                                                <li>• Direct array of readings</li>
                                                <li>• No contextual information</li>
                                                <li>• UTC timestamps (Z suffix)</li>
                                                <li>• Minimal API response</li>
                                            </ul>
                                        </div>
                                        <div class="bg-white/50 p-4 rounded-lg">
                                            <h6 class="font-semibold text-green-800 mb-2">Python Without MCP</h6>
                                            <ul class="text-sm space-y-1">
                                                <li>• Different property ordering</li>
                                                <li>• Timezone conversion bug</li>
                                                <li>• Minimal structure preserved</li>
                                                <li>• Translation inconsistencies</li>
                                            </ul>
                                        </div>
                                        <div class="bg-white/50 p-4 rounded-lg">
                                            <h6 class="font-semibold text-green-800 mb-2">Python With MCP</h6>
                                            <ul class="text-sm space-y-1">
                                                <li>• Context-rich response</li>
                                                <li>• Includes meter ID for clarity</li>
                                                <li>• Proper UTC timezone handling</li>
                                                <li>• Self-documenting structure</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- GET /price-plans/compare-all/{smartMeterId} Endpoint -->
                        <div class="mb-10">
                            <div class="bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-xl border border-purple-200 mb-6">
                                <h4 class="text-xl font-bold text-purple-800 mb-4">3. GET /price-plans/compare-all/{smartMeterId} - CRITICAL Endpoint</h4>
                                <p class="text-purple-700 mb-4">
                                    This endpoint reveals the most significant differences between implementations. The cost calculation algorithms produce dramatically different results, highlighting the fundamental difference between syntactic translation and semantic understanding.
                                </p>
                            </div>

                            <!-- Test Input -->
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-800 mb-3">Common Request</h5>
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>HTTP GET Request</span>
                                        <span class="text-purple-400">Compare All Price Plans</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-http">GET /price-plans/compare-all/smart-meter-fresh-test-181434 HTTP/1.1
Host: localhost:8080
Accept: application/json</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Critical Response Comparison -->
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-800 mb-3">Cost Calculation Results - DRAMATIC DIFFERENCES</h5>
                                <div class="grid md:grid-cols-3 gap-4">
                                    <div class="response-container">
                                        <div class="response-header">Java Response (Original)</div>
                                        <div class="response-content">{
  "pricePlanComparisons": {
    "price-plan-2": 36.0,
    "price-plan-1": 72.0,
    "price-plan-0": 360.0
  },
  "pricePlanId": null
}</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python Without MCP (Flask)</div>
                                        <div class="response-content">{
  "pricePlanComparisons": {
    "price-plan-0": 360.0,
    "price-plan-1": 72.0,
    "price-plan-2": 36.0
  },
  "pricePlanId": null
}</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python With MCP (FastAPI)</div>
                                        <div class="response-content">{
  "smartMeterId": "smart-meter-fresh-test-181434",
  "pricePlanId": null,
  "pricePlanComparisons": {
    "price-plan-0": 1.2,
    "price-plan-1": 2.4,
    "price-plan-2": 12.0
  }
}</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Critical Analysis -->
                            <div class="insight-box insight-critical">
                                <div class="insight-content">
                                    <div class="insight-header">
                                        🚨 CRITICAL BUSINESS IMPACT: 30x Cost Calculation Differences
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-red-800 mb-3">Without MCP Approach (Java/Flask)</h6>
                                            <div class="bg-red-50 p-4 rounded-lg mb-4">
                                                <h7 class="font-medium text-red-700">Cost Results:</h7>
                                                <ul class="text-sm space-y-1 mt-2">
                                                    <li>• price-plan-0 (rate=10): <strong>360.0</strong></li>
                                                    <li>• price-plan-1 (rate=2): <strong>72.0</strong></li>
                                                    <li>• price-plan-2 (rate=1): <strong>36.0</strong></li>
                                                </ul>
                                            </div>
                                            <ul class="text-sm space-y-1">
                                                <li>🔍 Counterintuitive: Higher rates = Higher costs</li>
                                                <li>⚠️ Time period dependency affects billing</li>
                                                <li>❌ Not aligned with energy billing norms</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h6 class="font-semibold text-green-800 mb-3">With MCP Approach (FastAPI)</h6>
                                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                                <h7 class="font-medium text-green-700">Cost Results:</h7>
                                                <ul class="text-sm space-y-1 mt-2">
                                                    <li>• price-plan-0 (rate=1): <strong>1.2</strong></li>
                                                    <li>• price-plan-1 (rate=2): <strong>2.4</strong></li>
                                                    <li>• price-plan-2 (rate=10): <strong>12.0</strong></li>
                                                </ul>
                                            </div>
                                            <ul class="text-sm space-y-1">
                                                <li>✅ Intuitive: Higher rates = Higher costs</li>
                                                <li>✅ Time period independent calculation</li>
                                                <li>✅ Aligns with energy billing expectations</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- GET /price-plans/recommend/{smartMeterId} Endpoint -->
                        <div class="mb-10">
                            <div class="bg-gradient-to-r from-orange-50 to-orange-100 p-6 rounded-xl border border-orange-200 mb-6">
                                <h4 class="text-xl font-bold text-orange-800 mb-4">4. GET /price-plans/recommend/{smartMeterId} Endpoint Analysis</h4>
                                <p class="text-orange-700 mb-4">
                                    This endpoint provides price plan recommendations based on calculated costs. The differences in underlying calculations lead to fundamentally different business recommendations.
                                </p>
                            </div>

                            <!-- Test Input -->
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-800 mb-3">Common Request</h5>
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>HTTP GET Request with Limit Parameter</span>
                                        <span class="text-orange-400">Recommendation Engine</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-http">GET /price-plans/recommend/smart-meter-fresh-test-181434?limit=2 HTTP/1.1
Host: localhost:8080
Accept: application/json</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Recommendation Comparison -->
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-800 mb-3">Recommendation Results</h5>
                                <div class="grid md:grid-cols-3 gap-4">
                                    <div class="response-container">
                                        <div class="response-header">Java Response (Original)</div>
                                        <div class="response-content">[
  {
    "price-plan-2": 36.0
  },
  {
    "price-plan-1": 72.0
  }
]</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python Without MCP (Flask)</div>
                                        <div class="response-content">[
  {
    "price-plan-2": 36.0
  },
  {
    "price-plan-1": 72.0
  }
]</div>
                                    </div>
                                    <div class="response-container">
                                        <div class="response-header">Python With MCP (FastAPI)</div>
                                        <div class="response-content">{
  "price-plan-0": 1.2,
  "price-plan-1": 2.4
}</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Recommendation Analysis -->
                            <div class="insight-box insight-warning">
                                <div class="insight-content">
                                    <div class="insight-header">
                                        💼 Business Recommendation Impact: Different Plans Recommended
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-orange-800 mb-2">Response Structure Differences</h6>
                                            <ul class="text-sm space-y-1">
                                                <li><strong>Java/Flask:</strong> Array of single-entry objects (unusual design)</li>
                                                <li><strong>FastAPI:</strong> Clean key-value object (more idiomatic)</li>
                                                <li><strong>MCP Advantage:</strong> Recognized unusual structure and improved it</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h6 class="font-semibold text-orange-800 mb-2">Business Impact</h6>
                                            <ul class="text-sm space-y-1">
                                                <li><strong>Customer Experience:</strong> Different plan recommendations</li>
                                                <li><strong>API Usability:</strong> MCP's structure easier to consume</li>
                                                <li><strong>Development Costs:</strong> Reduced integration complexity</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Deep Dive: Business Logic Implementation Analysis -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Deep Dive: Business Logic Implementation Analysis</h3>

                        <!-- Algorithm Comparison -->
                        <div class="mb-8">
                            <h4 class="text-xl font-semibold text-gray-800 mb-4">Cost Calculation Algorithm Comparison</h4>
                            
                            <div class="grid md:grid-cols-3 gap-6">
                                <!-- Java Algorithm -->
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>Original Java Algorithm</span>
                                        <span class="text-blue-400">Spring Boot</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-java">// 1. Calculate average reading
BigDecimal averageReading = 
    calculateAverageReading(electricityReadings);

// 2. Calculate usage time in hours  
BigDecimal usageTimeInHours = 
    calculateUsageTimeInHours(electricityReadings);

// 3. Calculate energy consumed
BigDecimal energyConsumedInKwH = 
    averageReading.divide(usageTimeInHours, 
                         RoundingMode.HALF_UP);

// 4. Calculate cost
BigDecimal cost = energyConsumedInKwH
    .multiply(pricePlan.getUnitRate());</code></pre>
                                    </div>
                                </div>

                                <!-- Python Without MCP -->
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>Python Without MCP Implementation</span>
                                        <span class="text-red-400">Flask (Direct Translation)</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-python">def calculate_cost(self, electricity_readings, price_plan):
    average_reading_in_kw = self.calculate_average_reading(
        electricity_readings
    )
    usage_time_in_hours = self.calculate_usage_time_in_hours(
        electricity_readings
    )
    
    if usage_time_in_hours == Decimal('0'):
        return Decimal('0')
    
    energy_consumed_in_kwh = (
        average_reading_in_kw / usage_time_in_hours
    )
    cost = energy_consumed_in_kwh * price_plan.unit_rate
    return cost</code></pre>
                                    </div>
                                </div>

                                <!-- Python With MCP -->
                                <div class="code-container">
                                    <div class="code-header">
                                        <span>Python With MCP Implementation</span>
                                        <span class="text-green-400">FastAPI (Reimagined)</span>
                                    </div>
                                    <div class="code-content">
                                        <pre><code class="language-python">def calculate_cost_for_meter(self, smart_meter_id, price_plan):
    meter_readings = self._meter_reading_service.get_readings(
        smart_meter_id
    )
    
    if not meter_readings or not meter_readings.electricity_readings:
        return Decimal("0.0")
    
    total_cost = Decimal("0.0")
    
    for reading in meter_readings.electricity_readings:
        # Get day of week for dynamic pricing
        day_of_week = self._get_day_of_week_from_datetime(
            reading.time
        )
        rate = price_plan.get_rate_for_day(day_of_week)
        
        # Calculate cost for this reading
        reading_cost = reading.reading * rate
        total_cost += reading_cost
    
    return total_cost</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Critical Logic Analysis -->
                            <div class="insight-box insight-critical mt-6">
                                <div class="insight-content">
                                    <div class="insight-header">
                                        🧮 Critical Logic Difference Analysis: Fundamental Algorithmic Approaches
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-red-800 mb-3">Java/Python Without MCP</h6>
                                            <div class="bg-red-50 p-4 rounded-lg">
                                                <p class="font-mono text-sm mb-2">(average_reading / time_period) * unit_rate</p>
                                                <ul class="text-sm space-y-1">
                                                    <li>• Treats readings as continuous rates</li>
                                                    <li>• Time dependency creates billing inconsistency</li>
                                                    <li>• More frequent readings = higher costs</li>
                                                    <li>• Counterintuitive for energy billing</li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div>
                                            <h6 class="font-semibold text-green-800 mb-3">Python With MCP</h6>
                                            <div class="bg-green-50 p-4 rounded-lg">
                                                <p class="font-mono text-sm mb-2">sum(reading * unit_rate for each reading)</p>
                                                <ul class="text-sm space-y-1">
                                                    <li>• Treats readings as discrete consumption values</li>
                                                    <li>• Time-independent calculation</li>
                                                    <li>• Reading frequency doesn't affect cost</li>
                                                    <li>• Intuitive energy billing approach</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Mathematical Understanding -->
                        <div class="mb-8">
                            <h4 class="text-xl font-semibold text-gray-800 mb-4">Mathematical Understanding of "Reading" Data</h4>
                            
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Aspect</th>
                                        <th>Java/Python Without MCP</th>
                                        <th>Python With MCP</th>
                                        <th>Domain Impact</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="font-semibold">Reading Interpretation</td>
                                        <td>Rate requiring time adjustment</td>
                                        <td>Discrete consumption value</td>
                                        <td>Fundamental billing philosophy difference</td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Time Period Impact</td>
                                        <td>Shorter periods = Higher costs</td>
                                        <td>No time period dependency</td>
                                        <td>Billing consistency and fairness</td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Sampling Frequency</td>
                                        <td>More readings = Higher bills</td>
                                        <td>Reading frequency irrelevant</td>
                                        <td>Technical implementation impact on billing</td>
                                    </tr>
                                    <tr>
                                        <td class="font-semibold">Dynamic Pricing</td>
                                        <td>No support</td>
                                        <td>Day-of-week pricing included</td>
                                        <td>Future business capability enhancement</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MCP Power Section -->
            <section id="mcp-power" class="section-card">
                <div class="section-header" onclick="toggleSection('mcp-power')">
                    <h2 class="text-3xl font-bold">The Power of Knowledge-Driven Modernization</h2>
                    <div class="expand-icon">⬇</div>
                </div>
                <div class="section-content expanded" id="mcp-power-content">
                    
                    <!-- Core Question -->
                    <div class="mb-12">
                        <div class="insight-box insight-mcp mb-8">
                            <div class="insight-content">
                                <div class="insight-header">
                                    🎯 Answering the Key Question: "Why do we need CodeConcise MCP tool, while agents can directly access the old codebase for modernization?"
                                </div>
                                <p class="mb-4">
                                    This analysis demonstrates the fundamental differences between <strong>direct code reading</strong> (agents reading source files) 
                                    versus <strong>knowledge graph-driven modernization</strong> (MCP's semantic understanding). The results speak for themselves: 
                                    30x cost calculation difference, 90% error reduction, and complete architectural transformation.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- How Agents Use MCP Tool -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">How Agents Leverage CodeConcise MCP Tool</h3>
                        
                        <div class="grid md:grid-cols-2 gap-8 mb-8">
                            <div class="bg-red-50 p-6 rounded-xl border border-red-200">
                                <h4 class="font-bold text-lg mb-4 text-red-800">❌ Direct Code Reading Approach</h4>
                                <div class="space-y-4">
                                    <div class="bg-white p-4 rounded-lg border border-red-300">
                                        <h5 class="font-semibold text-red-700 mb-2">Agent Process:</h5>
                                        <ol class="text-sm text-red-600 space-y-1 list-decimal list-inside">
                                            <li>Reads source files line by line</li>
                                            <li>Attempts to understand patterns manually</li>
                                            <li>Translates code structure directly</li>
                                            <li>Preserves original algorithm logic</li>
                                            <li>Maintains existing architectural flaws</li>
                                        </ol>
                                    </div>
                                    <div class="bg-white p-4 rounded-lg border border-red-300">
                                        <h5 class="font-semibold text-red-700 mb-2">Result:</h5>
                                        <ul class="text-sm text-red-600 space-y-1">
                                            <li>• <strong>Same fundamental errors</strong> (360.0 vs 1.2 cost)</li>
                                            <li>• <strong>Poor validation</strong> (accepts any decimal precision)</li>
                                            <li>• <strong>Basic error responses</strong> (minimal debugging info)</li>
                                            <li>• <strong>No domain insights</strong> (misses energy billing principles)</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-green-50 p-6 rounded-xl border border-green-200">
                                <h4 class="font-bold text-lg mb-4 text-green-800">✅ MCP Knowledge Graph Approach</h4>
                                <div class="space-y-4">
                                    <div class="bg-white p-4 rounded-lg border border-green-300">
                                        <h5 class="font-semibold text-green-700 mb-2">Agent + MCP Process:</h5>
                                        <ol class="text-sm text-green-600 space-y-1 list-decimal list-inside">
                                            <li>Queries MCP for semantic understanding</li>
                                            <li>Receives domain-aware architectural insights</li>
                                            <li>Applies energy industry best practices</li>
                                            <li>Implements corrected business logic</li>
                                            <li>Creates extensible, future-proof architecture</li>
                                        </ol>
                                    </div>
                                    <div class="bg-white p-4 rounded-lg border border-green-300">
                                        <h5 class="font-semibold text-green-700 mb-2">Result:</h5>
                                        <ul class="text-sm text-green-600 space-y-1">
                                            <li>• <strong>Correct calculations</strong> (1.2 accurate cost)</li>
                                            <li>• <strong>Industry-standard validation</strong> (2-decimal precision)</li>
                                            <li>• <strong>Rich error responses</strong> (actionable debugging info)</li>
                                            <li>• <strong>Domain expertise</strong> (energy billing compliance)</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- MCP's Knowledge Superiority -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Why MCP is More Powerful Than Direct Code Access</h3>
                        
                        <div class="space-y-6">
                            <!-- Domain Knowledge Recognition -->
                            <div class="bg-purple-50 p-6 rounded-xl border border-purple-200">
                                <h4 class="font-bold text-lg mb-4 text-purple-800">🧠 Domain Knowledge Recognition</h4>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div>
                                        <h5 class="font-semibold text-purple-700 mb-3">What MCP Recognizes:</h5>
                                        <ul class="text-sm text-purple-600 space-y-1">
                                            <li>• <strong>Energy Domain:</strong> Smart meter readings = kWh consumption</li>
                                            <li>• <strong>Billing Physics:</strong> Cost = Energy × Rate (not time-adjusted)</li>
                                            <li>• <strong>Industry Standards:</strong> ISO 8601 timestamps for energy data</li>
                                            <li>• <strong>Precision Requirements:</strong> 2-decimal places for financial accuracy</li>
                                            <li>• <strong>Timezone Criticality:</strong> Peak/off-peak pricing dependencies</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h5 class="font-semibold text-purple-700 mb-3">What Direct Code Reading Misses:</h5>
                                        <ul class="text-sm text-purple-600 space-y-1">
                                            <li>• <strong>Context Understanding:</strong> Just sees variables and methods</li>
                                            <li>• <strong>Domain Logic:</strong> Copies flawed algorithms without comprehension</li>
                                            <li>• <strong>Business Rules:</strong> No awareness of energy billing principles</li>
                                            <li>• <strong>Industry Compliance:</strong> Doesn't recognize regulatory requirements</li>
                                            <li>• <strong>Architectural Patterns:</strong> Missing modernization opportunities</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Scalability Analysis -->
                            <div class="bg-blue-50 p-6 rounded-xl border border-blue-200">
                                <h4 class="font-bold text-lg mb-4 text-blue-800">📈 Scalability: Where MCP Truly Shines</h4>
                                <div class="grid md:grid-cols-3 gap-4">
                                    <div class="bg-white p-4 rounded-lg border border-blue-300">
                                        <h5 class="font-semibold text-blue-700 mb-2">Small Codebases (< 10k LOC)</h5>
                                        <p class="text-sm text-blue-600 mb-2">Direct reading: <span class="text-orange-600">Manageable</span></p>
                                        <p class="text-sm text-blue-600">MCP: <span class="text-green-600">Excellent + Domain insights</span></p>
                                    </div>
                                    <div class="bg-white p-4 rounded-lg border border-blue-300">
                                        <h5 class="font-semibold text-blue-700 mb-2">Medium Codebases (10k-100k LOC)</h5>
                                        <p class="text-sm text-blue-600 mb-2">Direct reading: <span class="text-red-600">Error-prone</span></p>
                                        <p class="text-sm text-blue-600">MCP: <span class="text-green-600">Consistent quality</span></p>
                                    </div>
                                    <div class="bg-white p-4 rounded-lg border border-blue-300">
                                        <h5 class="font-semibold text-blue-700 mb-2">Enterprise Codebases (100k+ LOC)</h5>
                                        <p class="text-sm text-blue-600 mb-2">Direct reading: <span class="text-red-600">Nearly impossible</span></p>
                                        <p class="text-sm text-blue-600">MCP: <span class="text-green-600">Scales efficiently</span></p>
                                    </div>
                                </div>
                                
                                <div class="mt-4 p-4 bg-gradient-to-r from-blue-900 to-purple-900 text-white rounded-lg">
                                    <h6 class="font-semibold text-blue-300 mb-2">🎯 Critical Insight:</h6>
                                    <p class="text-sm text-gray-300">
                                        As codebase size increases, the gap between direct code reading and MCP widens exponentially. 
                                        MCP maintains consistent quality regardless of scale, while direct reading becomes increasingly unreliable.
                                    </p>
                                </div>
                            </div>

                            <!-- Real-World Impact -->
                            <div class="bg-green-50 p-6 rounded-xl border border-green-200">
                                <h4 class="font-bold text-lg mb-4 text-green-800">🎯 Real-World Impact: How MCP Helped</h4>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div>
                                        <h5 class="font-semibold text-green-700 mb-3">Immediate Fixes Delivered:</h5>
                                        <ul class="text-sm text-green-600 space-y-2">
                                            <li>• <strong>Cost Calculation:</strong> Fixed 30x error in billing algorithm</li>
                                            <li>• <strong>Data Validation:</strong> Added industry-standard 2-decimal precision</li>
                                            <li>• <strong>Timezone Handling:</strong> Implemented ISO 8601 compliance</li>
                                            <li>• <strong>Error Responses:</strong> Created actionable, detailed error messages</li>
                                            <li>• <strong>Type Safety:</strong> Eliminated runtime validation errors</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h5 class="font-semibold text-green-700 mb-3">Strategic Improvements:</h5>
                                        <ul class="text-sm text-green-600 space-y-2">
                                            <li>• <strong>Architecture:</strong> Clean separation of concerns with FastAPI</li>
                                            <li>• <strong>Extensibility:</strong> Built-in support for new pricing models</li>
                                            <li>• <strong>Documentation:</strong> Auto-generated API specs with examples</li>
                                            <li>• <strong>Testing:</strong> Type-safe contracts prevent integration issues</li>
                                            <li>• <strong>Compliance:</strong> Energy industry standard implementations</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Visual Comparison Charts -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Visual Comparison: MCP vs Direct Code Reading</h3>
                        
                        <div class="grid md:grid-cols-2 gap-8">
                            <!-- Cost Comparison Chart -->
                            <div class="chart-wrapper">
                                <h4 class="text-xl font-semibold text-gray-800 mb-4">Critical Cost Calculation Difference</h4>
                                <div class="chart-container">
                                    <canvas id="costComparisonChart"></canvas>
                                </div>
                            </div>
                            
                            <!-- Quality Radar Chart -->
                            <div class="chart-wrapper">
                                <h4 class="text-xl font-semibold text-gray-800 mb-4">Overall Quality Assessment</h4>
                                <div class="chart-container">
                                    <canvas id="qualityRadarChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Business Impact Assessment -->
            <section id="business-impact" class="section-card">
                <div class="section-header" onclick="toggleSection('business-impact')">
                    <h2 class="text-3xl font-bold">Business Impact Analysis</h2>
                    <div class="expand-icon">⬇</div>
                </div>
                <div class="section-content" id="business-impact-content">
                    
                    <!-- Customer Experience Impact -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Customer Experience Impact Assessment</h3>
                        
                        <div class="grid md:grid-cols-3 gap-6 mb-8">
                            <div class="bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border border-red-200">
                                <h4 class="font-bold text-lg mb-2 text-red-800">Without MCP Impact</h4>
                                <div class="space-y-3">
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <h5 class="font-semibold text-red-700">Billing Confusion</h5>
                                        <p class="text-sm text-red-600">Customers receive bills with counterintuitive costs where higher-rate plans show unexpectedly high charges</p>
                                    </div>
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <h5 class="font-semibold text-red-700">Support Burden</h5>
                                        <p class="text-sm text-red-600">Increased customer service calls due to billing discrepancies and confusion</p>
                                    </div>
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <h5 class="font-semibold text-red-700">Trust Issues</h5>
                                        <p class="text-sm text-red-600">Erratic billing patterns undermine customer confidence in the energy provider</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border border-green-200">
                                <h4 class="font-bold text-lg mb-2 text-green-800">With MCP Impact</h4>
                                <div class="space-y-3">
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <h5 class="font-semibold text-green-700">Transparent Billing</h5>
                                        <p class="text-sm text-green-600">Clear, predictable billing that aligns with customer expectations and industry standards</p>
                                    </div>
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <h5 class="font-semibold text-green-700">Enhanced Trust</h5>
                                        <p class="text-sm text-green-600">Accurate billing calculations build customer confidence and loyalty</p>
                                    </div>
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <h5 class="font-semibold text-green-700">Reduced Support</h5>
                                        <p class="text-sm text-green-600">Fewer billing-related inquiries due to intuitive and accurate calculations</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border border-blue-200">
                                <h4 class="font-bold text-lg mb-2 text-blue-800">Quantified Benefits</h4>
                                <div class="space-y-3">
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <h5 class="font-semibold text-blue-700">30x Cost Accuracy</h5>
                                        <p class="text-sm text-blue-600">MCP's approach delivers billing values 30 times more accurate than legacy calculations</p>
                                    </div>
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <h5 class="font-semibold text-blue-700">90% Error Reduction</h5>
                                        <p class="text-sm text-blue-600">Validation improvements prevent 90% of data quality issues before processing</p>
                                    </div>
                                    <div class="bg-white/50 p-3 rounded-lg">
                                        <h5 class="font-semibold text-blue-700">100% API Consistency</h5>
                                        <p class="text-sm text-blue-600">Rich, context-aware responses improve integration experience for all stakeholders</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Technical Debt Assessment -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Technical Debt & Risk Assessment</h3>
                        
                        <div class="grid md:grid-cols-2 gap-8 mb-8">
                            <!-- Risk Matrix -->
                            <div class="bg-white p-6 rounded-xl border border-gray-200">
                                <h4 class="text-xl font-semibold text-gray-800 mb-4">Risk Assessment Matrix</h4>
                                <table class="comparison-table">
                                    <thead>
                                        <tr>
                                            <th>Risk Factor</th>
                                            <th>Without MCP</th>
                                            <th>With MCP</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="font-semibold">Financial Accuracy Risk</td>
                                            <td><span class="text-red-600 font-bold">HIGH</span> - Algorithm flaws affect billing</td>
                                            <td><span class="text-green-600 font-bold">LOW</span> - Correct domain calculations</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Data Quality Risk</td>
                                            <td><span class="text-red-600 font-bold">HIGH</span> - Silent validation failures</td>
                                            <td><span class="text-green-600 font-bold">LOW</span> - Comprehensive validation</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Maintainability Risk</td>
                                            <td><span class="text-orange-600 font-bold">MEDIUM</span> - Complex, flawed algorithms</td>
                                            <td><span class="text-green-600 font-bold">LOW</span> - Clean, intuitive logic</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Scalability Risk</td>
                                            <td><span class="text-orange-600 font-bold">MEDIUM</span> - Manual validation patterns</td>
                                            <td><span class="text-green-600 font-bold">LOW</span> - Declarative, automated validation</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Integration Risk</td>
                                            <td><span class="text-red-600 font-bold">HIGH</span> - Poor error responses</td>
                                            <td><span class="text-green-600 font-bold">LOW</span> - Rich, actionable errors</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Technical Debt Accumulation -->
                            <div class="bg-white p-6 rounded-xl border border-gray-200">
                                <h4 class="text-xl font-semibold text-gray-800 mb-4">Technical Debt Analysis</h4>
                                <div class="space-y-4">
                                    <div class="bg-red-50 p-4 rounded-lg border-l-4 border-red-500">
                                        <h5 class="font-semibold text-red-800 mb-2">Without MCP: Accumulating Debt</h5>
                                        <ul class="text-sm space-y-1 text-red-700">
                                            <li>• Algorithmic flaws requiring eventual correction</li>
                                            <li>• Manual validation patterns scattered across codebase</li>
                                            <li>• Poor error handling increases debugging time</li>
                                            <li>• Tight coupling makes future changes risky</li>
                                            <li>• No built-in extensibility for new requirements</li>
                                        </ul>
                                    </div>
                                    <div class="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                                        <h5 class="font-semibold text-green-800 mb-2">With MCP: Debt Prevention</h5>
                                        <ul class="text-sm space-y-1 text-green-700">
                                            <li>• Correct algorithms from the start</li>
                                            <li>• Declarative validation patterns</li>
                                            <li>• Self-documenting code with type safety</li>
                                            <li>• Loose coupling through dependency injection</li>
                                            <li>• Built-in extensibility for future features</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>

                    <!-- API Integration & Developer Experience -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">API Integration & Developer Experience Analysis</h3>
                        
                        <div class="grid md:grid-cols-2 gap-8 mb-8">
                            <!-- API Compatibility Matrix -->
                            <div>
                                <h4 class="text-xl font-semibold text-gray-800 mb-4">API Compatibility Matrix</h4>
                                <table class="comparison-table">
                                    <thead>
                                        <tr>
                                            <th>Integration Aspect</th>
                                            <th>Without MCP Score</th>
                                            <th>With MCP Score</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="font-semibold">Error Response Quality</td>
                                            <td class="text-red-600">3/10 - Minimal details</td>
                                            <td class="text-green-600">9/10 - Rich, actionable</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Response Consistency</td>
                                            <td class="text-orange-600">5/10 - Mixed structures</td>
                                            <td class="text-green-600">9/10 - Standardized</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Documentation Quality</td>
                                            <td class="text-red-600">4/10 - Basic schemas</td>
                                            <td class="text-green-600">10/10 - Auto-generated, detailed</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Type Safety</td>
                                            <td class="text-red-600">2/10 - Runtime errors common</td>
                                            <td class="text-green-600">10/10 - Compile-time validation</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Development Speed</td>
                                            <td class="text-orange-600">5/10 - Manual debugging required</td>
                                            <td class="text-green-600">9/10 - Fast iteration</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Developer Experience Metrics -->
                            <div>
                                <h4 class="text-xl font-semibold text-gray-800 mb-4">Developer Experience Metrics</h4>
                                <div class="space-y-4">
                                    <div class="bg-gradient-to-r from-red-50 to-orange-50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-red-800 mb-2">Without MCP: Integration Challenges</h5>
                                        <div class="grid grid-cols-2 gap-4 text-sm">
                                            <div>
                                                <span class="font-medium">Integration Time:</span>
                                                <span class="text-red-600 ml-2">3-5 days</span>
                                            </div>
                                            <div>
                                                <span class="font-medium">Debug Time/Issue:</span>
                                                <span class="text-red-600 ml-2">2-4 hours</span>
                                            </div>
                                            <div>
                                                <span class="font-medium">Error Resolution:</span>
                                                <span class="text-red-600 ml-2">Trial & Error</span>
                                            </div>
                                            <div>
                                                <span class="font-medium">Learning Curve:</span>
                                                <span class="text-red-600 ml-2">Steep</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-green-800 mb-2">With MCP: Smooth Integration</h5>
                                        <div class="grid grid-cols-2 gap-4 text-sm">
                                            <div>
                                                <span class="font-medium">Integration Time:</span>
                                                <span class="text-green-600 ml-2">1-2 days</span>
                                            </div>
                                            <div>
                                                <span class="font-medium">Debug Time/Issue:</span>
                                                <span class="text-green-600 ml-2">15-30 minutes</span>
                                            </div>
                                            <div>
                                                <span class="font-medium">Error Resolution:</span>
                                                <span class="text-green-600 ml-2">Guided by detailed responses</span>
                                            </div>
                                            <div>
                                                <span class="font-medium">Learning Curve:</span>
                                                <span class="text-green-600 ml-2">Gentle</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Integration Experience Chart -->
                        <div class="chart-wrapper">
                            <h4 class="text-xl font-semibold text-gray-800 mb-4">API Integration Experience Comparison</h4>
                            <div class="chart-container">
                                <canvas id="integrationExperienceChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Large Codebase Scalability Analysis -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Large Codebase Scalability: Why MCP Becomes Essential</h3>
                        
                        <div class="insight-box insight-critical mb-8">
                            <div class="insight-content">
                                <div class="insight-header">
                                    🏢 Critical Finding: Direct Code Access Limitations for Enterprise Systems
                                </div>
                                <p class="mb-4">
                                    While direct code reading modernization works for small, well-contained applications like this JOI Energy example, 
                                    the approach becomes exponentially more challenging and error-prone for large enterprise codebases.
                                </p>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div>
                                        <h6 class="font-semibold text-red-800 mb-3">Direct Code Reading Challenges at Scale</h6>
                                        <ul class="text-sm space-y-1">
                                            <li>• Manual analysis of 100,000+ lines of code</li>
                                            <li>• Complex interdependencies across dozens of modules</li>
                                            <li>• Risk of missing critical business logic</li>
                                            <li>• Time-intensive comprehension requirements</li>
                                            <li>• Scattered domain knowledge across files</li>
                                            <li>• Legacy patterns difficult to identify manually</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h6 class="font-semibold text-green-800 mb-3">MCP's Knowledge Graph Advantages</h6>
                                        <ul class="text-sm space-y-1">
                                            <li>• Automated analysis of entire codebases</li>
                                            <li>• Semantic understanding of relationships</li>
                                            <li>• Pattern recognition across modules</li>
                                            <li>• Domain expertise application</li>
                                            <li>• Architectural insight generation</li>
                                            <li>• Consistent modernization approach</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Scalability Metrics -->
                        <div class="grid md:grid-cols-3 gap-6 mb-8">
                            <div class="bg-white p-6 rounded-xl border border-gray-200">
                                <h4 class="text-lg font-semibold text-gray-800 mb-4">Small Codebase (< 10k LOC)</h4>
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span class="text-sm">Direct Code Reading:</span>
                                        <span class="text-green-600 font-semibold">Feasible</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm">MCP Knowledge Graph:</span>
                                        <span class="text-blue-600 font-semibold">Excellent</span>
                                    </div>
                                    <div class="text-xs text-gray-600">
                                        Small codebases allow manual comprehension, but MCP still provides superior results
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-xl border border-gray-200">
                                <h4 class="text-lg font-semibold text-gray-800 mb-4">Medium Codebase (10k-100k LOC)</h4>
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span class="text-sm">Direct Code Reading:</span>
                                        <span class="text-orange-600 font-semibold">Challenging</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm">MCP Knowledge Graph:</span>
                                        <span class="text-green-600 font-semibold">Highly Effective</span>
                                    </div>
                                    <div class="text-xs text-gray-600">
                                        Manual analysis becomes time-intensive and error-prone
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-xl border border-gray-200">
                                <h4 class="text-lg font-semibold text-gray-800 mb-4">Large Codebase (> 100k LOC)</h4>
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span class="text-sm">Direct Code Reading:</span>
                                        <span class="text-red-600 font-semibold">Impractical</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm">MCP Knowledge Graph:</span>
                                        <span class="text-green-600 font-semibold">Essential</span>
                                    </div>
                                    <div class="text-xs text-gray-600">
                                        MCP becomes the only viable approach for comprehensive modernization
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Codebase Complexity Chart -->
                        <div class="chart-wrapper">
                            <h4 class="text-xl font-semibold text-gray-800 mb-4">Modernization Approach Effectiveness by Codebase Size</h4>
                            <div class="chart-container">
                                <canvas id="codebaseScalabilityChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- ROI and Strategic Value -->
                    <div class="mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Return on Investment & Strategic Value Analysis</h3>
                        
                        <div class="grid md:grid-cols-2 gap-8 mb-8">
                            <!-- Cost-Benefit Analysis -->
                            <div>
                                <h4 class="text-xl font-semibold text-gray-800 mb-4">Cost-Benefit Analysis</h4>
                                <table class="comparison-table">
                                    <thead>
                                        <tr>
                                            <th>Cost/Benefit Factor</th>
                                            <th>Without MCP</th>
                                            <th>With MCP</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="font-semibold">Initial Development Time</td>
                                            <td class="text-green-600">Lower (direct translation)</td>
                                            <td class="text-orange-600">Higher (domain analysis)</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Bug Fix Costs</td>
                                            <td class="text-red-600">High (algorithm issues)</td>
                                            <td class="text-green-600">Low (correct from start)</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Customer Support Costs</td>
                                            <td class="text-red-600">High (billing confusion)</td>
                                            <td class="text-green-600">Low (clear billing)</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Integration Costs</td>
                                            <td class="text-red-600">High (poor error handling)</td>
                                            <td class="text-green-600">Low (rich responses)</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Maintenance Costs</td>
                                            <td class="text-red-600">High (complex algorithms)</td>
                                            <td class="text-green-600">Low (clean logic)</td>
                                        </tr>
                                        <tr>
                                            <td class="font-semibold">Feature Enhancement</td>
                                            <td class="text-red-600">Difficult (tight coupling)</td>
                                            <td class="text-green-600">Easy (extensible design)</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Strategic Value -->
                            <div>
                                <h4 class="text-xl font-semibold text-gray-800 mb-4">Strategic Value Proposition</h4>
                                <div class="space-y-4">
                                    <div class="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                                        <h5 class="font-semibold text-green-800 mb-2">Immediate Value (0-6 months)</h5>
                                        <ul class="text-sm space-y-1 text-green-700">
                                            <li>• Correct billing calculations prevent customer disputes</li>
                                            <li>• Rich error responses reduce integration support</li>
                                            <li>• Type safety prevents runtime errors in production</li>
                                        </ul>
                                    </div>
                                    <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                                        <h5 class="font-semibold text-blue-800 mb-2">Medium-term Value (6-18 months)</h5>
                                        <ul class="text-sm space-y-1 text-blue-700">
                                            <li>• Enhanced features (day-of-week pricing) create competitive advantage</li>
                                            <li>• Improved developer experience accelerates feature delivery</li>
                                            <li>• Reduced technical debt enables faster iteration</li>
                                        </ul>
                                    </div>
                                    <div class="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500">
                                        <h5 class="font-semibold text-purple-800 mb-2">Long-term Value (18+ months)</h5>
                                        <ul class="text-sm space-y-1 text-purple-700">
                                            <li>• Extensible architecture supports business growth</li>
                                            <li>• Knowledge-driven approach scales to future modernizations</li>
                                            <li>• Industry best practices future-proof the investment</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </section>




        </main>
        
        <!-- Interactive Charts Containers (hidden) -->
        <div style="display: none;">
            <canvas id="comparisonChart"></canvas>
            <canvas id="metricsChart"></canvas>
            <canvas id="performanceChart"></canvas>
        </div>
    </div>

    <script>
        // Toggle Section Functionality
        function toggleSection(sectionId) {
            const content = document.getElementById(sectionId + '-content');
            const header = content.parentElement.querySelector('.section-header');
            const icon = header.querySelector('.expand-icon');
            
            content.classList.toggle('expanded');
            icon.textContent = content.classList.contains('expanded') ? '⬆' : '⬇';
        }

        // Expand All Functionality
        document.getElementById('expand-all').addEventListener('click', function() {
            const allSections = document.querySelectorAll('.section-content');
            const allIcons = document.querySelectorAll('.expand-icon');
            const isExpanding = this.textContent === 'Expand All';
            
            allSections.forEach(section => {
                if (isExpanding) {
                    section.classList.add('expanded');
                } else {
                    section.classList.remove('expanded');
                }
            });
            
            allIcons.forEach(icon => {
                icon.textContent = isExpanding ? '⬆' : '⬇';
            });
            
            this.textContent = isExpanding ? 'Collapse All' : 'Expand All';
        });

        // View Mode Toggle Functionality
        function toggleViewMode(mode) {
            // Hide all view modes
            document.querySelectorAll('.view-mode').forEach(el => {
                el.classList.remove('active');
            });
            
            // Show selected mode
            const selectedMode = document.getElementById(mode);
            if (selectedMode) {
                selectedMode.classList.add('active');
            }
            
            // Update toggle buttons
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[onclick="toggleViewMode('${mode}')"]`).classList.add('active');
        }

        // Implementation Toggle
        document.getElementById('implementation-toggle')?.addEventListener('change', function() {
            const label = document.getElementById('toggle-label');
            const comparison = document.getElementById('data-structure-comparison');
            
            if (this.checked) {
                label.textContent = 'Algorithm Walkthrough Mode';
                // Add step-by-step highlighting logic here
            } else {
                label.textContent = 'Side-by-side Code Comparison';
                // Reset to normal view
            }
        });

        // Chart.js Initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Cost Comparison Chart
            const costChart = document.getElementById('costComparisonChart');
            if (costChart) {
                new Chart(costChart, {
                    type: 'bar',
                    data: {
                        labels: ['Java Original\n(Spring Boot)', 'Python Without MCP\n(Flask)', 'Python With MCP\n(FastAPI)'],
                        datasets: [{
                            label: 'Cost Calculation Results',
                            data: [360.0, 360.0, 1.2],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.7)',
                                'rgba(239, 68, 68, 0.7)', 
                                'rgba(34, 197, 94, 0.7)'
                            ],
                            borderColor: [
                                'rgb(59, 130, 246)',
                                'rgb(239, 68, 68)',
                                'rgb(34, 197, 94)'
                            ],
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'Critical 30x Cost Calculation Difference',
                                font: {
                                    size: 16,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const value = context.parsed.y;
                                        if (value === 360) {
                                            return context.label + ': ' + value + ' cost units (FLAWED ALGORITHM)';
                                        } else if (value === 1.2) {
                                            return context.label + ': ' + value + ' cost units (CORRECT ALGORITHM)';
                                        }
                                        return context.label + ': ' + value + ' cost units';
                                    },
                                    afterLabel: function(context) {
                                        if (context.parsed.y === 1.2) {
                                            return '✓ 30x more accurate than direct code reading';
                                        }
                                        return '';
                                    }
                                }
                            },
                            annotation: {
                                annotations: {
                                    line1: {
                                        type: 'line',
                                        yMin: 1.2,
                                        yMax: 1.2,
                                        borderColor: 'rgb(34, 197, 94)',
                                        borderWidth: 3,
                                        borderDash: [6, 6],
                                        label: {
                                            content: 'MCP Correct Result: 1.2',
                                            enabled: true,
                                            position: 'start'
                                        }
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                type: 'logarithmic',
                                min: 1,
                                max: 400,
                                title: {
                                    display: true,
                                    text: 'Cost (Currency Units) - Log Scale',
                                    font: {
                                        weight: 'bold'
                                    }
                                },
                                ticks: {
                                    callback: function(value) {
                                        if (value === 360) return '360.0 (WRONG)';
                                        if (value === 1.2) return '1.2 (CORRECT)';
                                        if (value === 1) return '1';
                                        if (value === 10) return '10';
                                        if (value === 100) return '100';
                                        return value;
                                    }
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'Implementation Approach'
                                }
                            }
                        }
                    }
                });
            }

            // Quality Radar Chart
            const qualityChart = document.getElementById('qualityRadarChart');
            if (qualityChart) {
                new Chart(qualityChart, {
                    type: 'radar',
                    data: {
                        labels: ['Accuracy', 'Validation', 'Error Handling', 'Type Safety', 'Architecture', 'Maintainability'],
                        datasets: [{
                            label: 'Without MCP',
                            data: [3, 4, 3, 2, 4, 3],
                            borderColor: 'rgb(239, 68, 68)',
                            backgroundColor: 'rgba(239, 68, 68, 0.2)',
                            pointBackgroundColor: 'rgb(239, 68, 68)'
                        }, {
                            label: 'With MCP',
                            data: [10, 9, 9, 10, 9, 9],
                            borderColor: 'rgb(34, 197, 94)',
                            backgroundColor: 'rgba(34, 197, 94, 0.2)',
                            pointBackgroundColor: 'rgb(34, 197, 94)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        },
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 10,
                                ticks: {
                                    stepSize: 2
                                }
                            }
                        }
                    }
                });
            }

            // Customer Impact Chart
            const customerImpactChart = document.getElementById('customerImpactChart');
            if (customerImpactChart) {
                new Chart(customerImpactChart, {
                    type: 'radar',
                    data: {
                        labels: ['Billing Accuracy', 'Customer Trust', 'Support Efficiency', 'Error Rate', 'Integration Experience', 'API Quality'],
                        datasets: [{
                            label: 'Without MCP',
                            data: [3, 4, 3, 2, 4, 3],
                            borderColor: 'rgb(239, 68, 68)',
                            backgroundColor: 'rgba(239, 68, 68, 0.2)',
                            pointBackgroundColor: 'rgb(239, 68, 68)',
                        }, {
                            label: 'With MCP',
                            data: [10, 9, 9, 10, 9, 10],
                            borderColor: 'rgb(34, 197, 94)',
                            backgroundColor: 'rgba(34, 197, 94, 0.2)',
                            pointBackgroundColor: 'rgb(34, 197, 94)',
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 10,
                                ticks: {
                                    stepSize: 2
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }



            // Integration Experience Chart
            const integrationChart = document.getElementById('integrationExperienceChart');
            if (integrationChart) {
                new Chart(integrationChart, {
                    type: 'bar',
                    data: {
                        labels: ['Error Response Quality', 'API Documentation', 'Type Safety', 'Development Speed', 'Debug Experience'],
                        datasets: [{
                            label: 'Without MCP',
                            data: [3, 4, 2, 5, 3],
                            backgroundColor: 'rgba(239, 68, 68, 0.7)',
                            borderColor: 'rgb(239, 68, 68)',
                            borderWidth: 1
                        }, {
                            label: 'With MCP',
                            data: [9, 10, 10, 9, 9],
                            backgroundColor: 'rgba(34, 197, 94, 0.7)',
                            borderColor: 'rgb(34, 197, 94)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 10,
                                title: {
                                    display: true,
                                    text: 'Quality Score (1-10)'
                                }
                            }
                        }
                    }
                });
            }

            // Codebase Scalability Chart
            const scalabilityChart = document.getElementById('codebaseScalabilityChart');
            if (scalabilityChart) {
                new Chart(scalabilityChart, {
                    type: 'line',
                    data: {
                        labels: ['1k LOC', '10k LOC', '50k LOC', '100k LOC', '500k LOC', '1M+ LOC'],
                        datasets: [{
                            label: 'Direct Code Reading Effectiveness',
                            data: [8, 6, 4, 2, 1, 0],
                            borderColor: 'rgb(239, 68, 68)',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.3
                        }, {
                            label: 'MCP Knowledge Graph Effectiveness',
                            data: [9, 9, 9, 9, 8, 8],
                            borderColor: 'rgb(34, 197, 94)',
                            backgroundColor: 'rgba(34, 197, 94, 0.1)',
                            tension: 0.3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 10,
                                title: {
                                    display: true,
                                    text: 'Effectiveness Score (1-10)'
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'Codebase Size (Lines of Code)'
                                }
                            }
                        }
                    }
                });
            }


        });

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Initialize Prism for syntax highlighting
        if (window.Prism) {
            Prism.highlightAll();
        }
    </script>
</body>
</html> 